# 代码审查检查清单

## 🔴 Critical（必须修复）

### 安全性
- [ ] 是否存在 SQL 注入风险（用户输入未经参数化直接拼接 SQL）
- [ ] 是否存在命令注入风险（shell 命令中包含用户输入）
- [ ] 敏感数据（密码、密钥、Token）是否以明文存储或打印到日志
- [ ] 认证/授权逻辑是否可绕过
- [ ] 反序列化是否会执行任意代码

### 正确性
- [ ] 空指针/空引用是否有保护
- [ ] 数组/切片越界是否有检查
- [ ] 整数溢出风险
- [ ] 资源（文件、连接、锁）是否总能被正确释放

## 🟠 High（强烈建议修复）

### 并发与一致性
- [ ] 共享状态是否有适当的同步原语保护
- [ ] 是否存在死锁风险（多锁获取顺序不一致）
- [ ] 异步代码中是否有 race condition

### 错误处理
- [ ] 错误是否被静默忽略（空 catch / `_ =` 丢弃）
- [ ] 错误信息是否向用户暴露了内部实现细节
- [ ] 重试逻辑是否有指数退避和上限

## 🟡 Medium（建议修复）

### 性能
- [ ] 循环内是否有不必要的数据库查询（N+1 问题）
- [ ] 大对象是否有不必要的深拷贝
- [ ] 字符串拼接是否在循环中使用（应使用 StringBuilder 模式）
- [ ] 缓存的使用是否合理

### 可维护性
- [ ] 函数/方法是否职责单一（> 50 行需重点检查）
- [ ] 是否有魔法数字/字符串（应提取为常量）
- [ ] 是否有重复代码（DRY 原则）
- [ ] 命名是否清晰准确

## 🟢 Low（改进建议）

- [ ] 注释是否说明了"为什么"而不仅仅是"做什么"
- [ ] 公共 API 是否有文档
- [ ] 测试覆盖率是否充分
- [ ] 是否遵循项目的代码风格规范

---
**评分标准**：Critical 0个、High ≤1个、Medium ≤3个 → 可合并
